---
title: "Тестирование сайта на jekyll и авто-deploy на github pages"
layout: post
comments: true
tags: [jekyll, testing]
categories: [jekyll]
---

Как и все в IT сайт нуждается в тестировании. Качество и количество тестов зависит от функциональности и значения сайта. Для своего блога я то же решил использовать тесты. Ну а так как все системные администраторы жутко ленивы, то и настроить автоматическую выкладку новых статей на [github pages](https://pages.github.com) (в моем случае через [travis-ci](http://travis-ci.org))

### html-proofer
Первым инструментом тестирования я выбрал `html-proofer`. Он позволяет проверять ссылки сайта, правильность оформления изображений а так же работоспособность внутренних и внешних скриптов.
Для работы нужно установить gem или добавить строчку в Gemfile:

```
gem 'html-proofer'
```

Для быстрой ручной проверки можно выполнить следующие команды:

``` console
# bundle exec jekyll build
# bundle exec htmlproofer ./_site
```

Чтобы не проверять генерируемые jekyll кросслинки (например список категорий), можно добавить в шаблоны тэг `data-proofer-ignore`. ТАким образом можно уменьшить количество проверяемых ссылок:

``` html
<a href="http://notareallink" data-proofer-ignore>Not checked.</a>
```
