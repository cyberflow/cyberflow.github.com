---
layout: post
title: "Nagios plugin check_smsc"
description: ""
category: development
tags: [bash, nagios, plugins, smsc, monitoring]
---
{% include JB/setup %}
В процессе настройки и работы с мониторинг-сервером icinga был использован ресурс [smsc.ru][1] для нотификации смс. В итоге это вылилось в задачу мониторинга баланса на этом ресурсе. Собственно после чего и был написан небольшой плагин для мониторинга баланса.

[check_smsc][2]

### Документация ###

Данный плагин позволяет получить данные о состоянии счёт [smsc.ru][1] и устанавливать значения для предупреждений. В качестве параметров плагину передаются логин и пароль в md5hash (пароль можно передать и в явном виде, но делать этого не рекомендуется).

*Опции:*

	-l/--login
		Логин от аккаунта smsc.ru
	-p/--pass
		Пароль от аккаунта в md5hash
	-w/--warning
		Определяется значение баланса, меньше которого будет выдаваться предупреждение.
		По умолчанию выключено.
	-c/--critical
		Определяется значение баланса, меньше которого будет выдаваться критическое предупреждение.
		По умолчанию выключено.

<br>
*Пример использования:*

{% highlight bash %}
check_smsc.sh -l login -p 50207fa2814e81a067bd2662ba10b0f1 -w 200 -c 100
{% endhighlight %}

### Дополнительная информация ###

Для перевода пароля в md5hash можно воспользоваться командой:

{% highlight bash %}
echo -n "password" | md5sum -
{% endhighlight %}

[1]:http://smsc.ru
[2]:https://github.com/cyberflow/nagios_plugin/tree/master/check_smsc

